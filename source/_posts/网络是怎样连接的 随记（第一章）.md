---
title: 网络是怎样连接的 随记（第一章）
date: 2020-09-09 20:39:55
tags: 计算机网络——随记
---

### 一.生成HTTP请求消息

#### 1.URL(网址)开头：

**以“http:” “ftp:” "file:" "mailto:"等开头**，这部分文字表示浏览器应当使用的访问方法(如：访问Web服务器时用HTTP协议，访问FTP服务器(上下载和上传文件)时用FTP协议)。<!--more-->

之所以有各种各样的URL，是因为浏览器是一个具备多种客户端功能的综合性客户端软件，因此需要URL来判断应该使用哪种功能来访问相应的数据(如：访问Web服务器时用“http:”，访问FTP服务器(上下载和上传文件)时用“ftp:”)。

同时访问的目标不同，URL后面的写法格式也会不同。

| http:     | ftp:      |
| --------- | --------- |
| Web服务器 | FTP服务器 |
| HTTP协议  | FTP协议   |



#### 2.URL解析(浏览器的第一步工作)

以“http:”开头的URL为例：

| http：                           | //   | user:password        | @**www. xxx.com**： | 80     | /dir/  | .../...                                      |
| -------------------------------- | ---- | -------------------- | ------------------- | ------ | ------ | -------------------------------------------- |
| 开头表示访问数据源的机制，即协议 |      | 用户名和密码(可省略) | Web服务器域名       | 端口号 | 目录名 | 文件名(和目录名一起组成数据源(文件)的路径名) |

文件名有时候可省略，因为会在服务器上事先设置好文件名省略时要访问的默认文件名，这个设置根据服务器的不同而不同(大多数情况下是index.html或者default.htm)。



#### 3.HTTP

HTTP协议定义了客户端和服务器之间交互的消息内容和步骤。

**浏览器对URL解析后，确定了Web服务器和文件名，根据这些信息生成HTTP请求消息，请求消息发送出去后，Web服务器会返回响应消息。(HTTP消息在格式上有严格规定)**

首先，客户端会向服务器发送请求消息。如下图所示，第一行称为请求行第二行开始为消息头，写完消息头后添加一个空行，之后写上要发送的数据，这部分称为消息体。

![](https://blog-1302639422.cos.ap-chengdu.myqcloud.com/%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF.png)

URI相当于“对什么”，这里可以写各种访问目标。一般是存放网页数据的文件名或者是一个CGI程序的文件名，也可以直接使用“http:”开头的URL来作为URI。(一条请求消息中只能写一个URI。如果要获取多个文件，必须对每个文件单独发送1条请求)

方法相当于“进行怎样的操作”，主要的方法有：GET,POST,HEAD,OPTIONS,PUT,DELETE,TRACE,CONNECT。**最常使用的两个方法为GET和POST。**

GET方法一般用于当我们访问Web服务器获取网页数据时。此时URI中写入存放网页数据的文件名，Web服务器收到消息后会在指定文件夹读取数据存放到响应消息中返回客户端。

POST方法在我们在表单中填写数据并将其发送给Web服务器是会使用。此时URI会指向Web服务器中运行的一个应用程序的文件名。Web服务器会将请求消息中的数据发送给URI指定的应用程序，然后Web服务器接收从应用程序输出的结果放在响应消息中返回给客户端。

(响应消息在第六章会详细介绍)



### 二：向DNS服务器查询Web服务器的IP地址


